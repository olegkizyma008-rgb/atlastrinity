# üîä TTS Configuration Flow

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø—Ä–æ –ø–æ—Ç—ñ–∫ –∫–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—ó ukrainian-tts –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É.

## üìã –î–≤–∞ —Ä—ñ–∑–Ω–∏—Ö config.yaml

**–í–ê–ñ–õ–ò–í–û**: –í —Å–∏—Å—Ç–µ–º—ñ —î **–¥–≤–∞ —Ä—ñ–∑–Ω–∏—Ö** —Ñ–∞–π–ª–∏ `config.yaml`:

### 1. –°–∏—Å—Ç–µ–º–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥ AtlasTrinity

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**:
- Project: `config/config.yaml` (template)
- Global: `~/.config/atlastrinity/config.yaml` (active)

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —Å–∏—Å—Ç–µ–º–∏ AtlasTrinity

**–ú—ñ—Å—Ç–∏—Ç—å**:
- –ê–≥–µ–Ω—Ç–∏ (Atlas, Tetyana, Grisha)
- MCP —Å–µ—Ä–≤–µ—Ä–∏ (Terminal, Whisper, etc)
- Voice: `tts.device`, `stt.model`
- Security, Logging

**–†–µ–¥–∞–≥—É—î—Ç—å—Å—è**: –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º (–∞–±–æ —á–µ—Ä–µ–∑ `.env`)

---

### 2. TTS Model Training Config

**–†–æ–∑—Ç–∞—à—É–≤–∞–Ω–Ω—è**: `~/.config/atlastrinity/models/tts/config.yaml`

**–ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è**: –ü–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è –º–æ–¥–µ–ª—ñ ukrainian-tts

**–ú—ñ—Å—Ç–∏—Ç—å**:
- Tacotron2 –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- HiFiGAN –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
- normalize_conf: `feats_stats.npz`
- –¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω—ñ –≥—ñ–ø–µ—Ä–ø–∞—Ä–∞–º–µ—Ç—Ä–∏

**–†–µ–¥–∞–≥—É—î—Ç—å—Å—è**: –ù–Ü! –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑ GitHub

**–î–∂–µ—Ä–µ–ª–æ**: https://github.com/robinhad/ukrainian-tts/releases/

---

## üîÑ –ü–æ—Ç—ñ–∫ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É

### Dev Mode (`./scripts/setup.sh`)

```bash
1. setup_dev.py –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
   ‚Üì
2. –°—Ç–≤–æ—Ä—é—î ~/.config/atlastrinity/models/tts/
   ‚Üì
3. –ö–æ–ø—ñ—é—î config/config.yaml ‚Üí ~/.config/atlastrinity/
   ‚Üì
4. –í–∏–∫–ª–∏–∫–∞—î: TTS(cache_folder='~/.config/.../tts')
   ‚Üì
5. ukrainian-tts –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ GitHub:
   ‚îú‚îÄ model.pth (425MB)
   ‚îú‚îÄ config.yaml (7.7KB) ‚Üê –¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥
   ‚îú‚îÄ feats_stats.npz (1.4KB)
   ‚îî‚îÄ spk_xvector.ark (3.9KB)
   ‚Üì
6. ‚úÖ –ì–æ—Ç–æ–≤–æ! –í—Å–µ –≤ ~/.config/atlastrinity/models/tts/
```

### Production Mode (`.app` –±—ñ–Ω–∞—Ä–Ω–∏–∫)

```bash
1. –ü–µ—Ä—à–∏–π –∑–∞–ø—É—Å–∫ AtlasTrinity.app
   ‚Üì
2. production_setup.py –∑–∞–ø—É—Å–∫–∞—î—Ç—å—Å—è
   ‚Üì
3. –ö–æ–ø—ñ—é—î Resources/config.yaml ‚Üí ~/.config/atlastrinity/
   ‚Üì
4. –ü–µ—Ä–µ–≤—ñ—Ä—è—î –Ω–∞—è–≤–Ω—ñ—Å—Ç—å TTS –º–æ–¥–µ–ª–µ–π (—â–µ –Ω–µ–º–∞—î)
   ‚Üì
5. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–ª–∏–∫—É AgentVoice("atlas").speak():
   ‚Üì
6. ukrainian-tts –ê–í–¢–û–ú–ê–¢–ò–ß–ù–û –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –∑ GitHub:
   ‚îú‚îÄ model.pth (425MB)
   ‚îú‚îÄ config.yaml (7.7KB) ‚Üê –¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥
   ‚îú‚îÄ feats_stats.npz (1.4KB)
   ‚îî‚îÄ spk_xvector.ark (3.9KB)
   ‚Üì
7. ‚úÖ –ì–æ—Ç–æ–≤–æ! –í—Å–µ –≤ ~/.config/atlastrinity/models/tts/
```

---

## üéØ –©–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–Ω–∞—Ç–∏

### –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á—É:

‚úÖ **–†–µ–¥–∞–≥—É–π**: `config/config.yaml` (–≤ –ø—Ä–æ–µ–∫—Ç—ñ)
   - –ê–±–æ `.env` –¥–ª—è –∑—Ä—É—á–Ω–æ—Å—Ç—ñ
   - –°–∏—Å—Ç–µ–º–∞ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—î `.env` ‚Üí `config.yaml`

‚ùå **–ù–ï —á—ñ–ø–∞–π**: `~/.config/atlastrinity/models/tts/config.yaml`
   - –¶–µ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ–π —Ñ–∞–π–ª –º–æ–¥–µ–ª—ñ
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î—Ç—å—Å—è
   - –ú—ñ—Å—Ç–∏—Ç—å –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ —Ç—Ä–µ–Ω—É–≤–∞–Ω–Ω—è

### –†–æ–∑—Ä–æ–±–Ω–∏–∫—É:

- **Dev setup**: `setup_dev.py` —Å–ø—Ä–æ–±—É—î –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ –º–æ–¥–µ–ª—ñ –∑–∞—Ä–∞–∑
  - –Ø–∫—â–æ –Ω–µ –≤–∏–π–¥–µ - –∑–∞–≤–∞–Ω—Ç–∞–∂–∞—Ç—å—Å—è –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ
  - –ù–µ –∫—Ä–∏—Ç–∏—á–Ω–∞ –ø–æ–º–∏–ª–∫–∞

- **Production**: –ú–æ–¥–µ–ª—ñ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è lazy (–ø—Ä–∏ –ø–µ—Ä—à–æ–º—É `speak()`)
  - –ó–º–µ–Ω—à—É—î —Ä–æ–∑–º—ñ—Ä `.app` –±—ñ–Ω–∞—Ä–Ω–∏–∫–∞
  - –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –±–∞—á–∏—Ç—å –ø—Ä–æ–≥—Ä–µ—Å-–±–∞—Ä

- **Build**: –ù–ï –≤–∫–ª—é—á–∞—î–º–æ –º–æ–¥–µ–ª—ñ –≤ `.app`
  - –†–æ–∑–º—ñ—Ä .app: ~200MB –∑–∞–º—ñ—Å—Ç—å ~625MB
  - –®–≤–∏–¥—à–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∑ GitHub

---

## üìÇ –§—ñ–Ω–∞–ª—å–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

```
~/.config/atlastrinity/
‚îú‚îÄ‚îÄ .env                           # API –∫–ª—é—á—ñ (–∑ .app –∞–±–æ setup)
‚îú‚îÄ‚îÄ config.yaml                    # –°–∏—Å—Ç–µ–º–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥ AtlasTrinity ‚úèÔ∏è EDIT
‚îú‚îÄ‚îÄ logs/
‚îú‚îÄ‚îÄ memory/
‚îú‚îÄ‚îÄ screenshots/
‚îî‚îÄ‚îÄ models/
    ‚îú‚îÄ‚îÄ tts/                       # ukrainian-tts –º–æ–¥–µ–ª—ñ
    ‚îÇ   ‚îú‚îÄ‚îÄ model.pth              # –ú–æ–¥–µ–ª—å (425MB)
    ‚îÇ   ‚îú‚îÄ‚îÄ config.yaml            # –¢—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥ ‚ö†Ô∏è DON'T EDIT
    ‚îÇ   ‚îú‚îÄ‚îÄ feats_stats.npz        # Feature stats
    ‚îÇ   ‚îî‚îÄ‚îÄ spk_xvector.ark        # Speaker vectors
    ‚îî‚îÄ‚îÄ whisper/                   # OpenAI Whisper –º–æ–¥–µ–ª—ñ
        ‚îî‚îÄ‚îÄ large-v3-turbo.pt      # STT –º–æ–¥–µ–ª—å (1.5GB)
```

---

## ‚ùì FAQ

**Q: –ß–æ–º—É config.yaml —î –≤ –¥–≤–æ—Ö –º—ñ—Å—Ü—è—Ö?**  
A: –¶–µ —Ä—ñ–∑–Ω—ñ —Ñ–∞–π–ª–∏! –û–¥–∏–Ω –¥–ª—è AtlasTrinity (—Å–∏—Å—Ç–µ–º–∞), —ñ–Ω—à–∏–π –¥–ª—è ukrainian-tts (–º–æ–¥–µ–ª—å).

**Q: –ß–∏ —Ç—Ä–µ–±–∞ –∫–æ–ø—ñ—é–≤–∞—Ç–∏ tts/config.yaml –≤—Ä—É—á–Ω—É?**  
A: –ù–Ü! ukrainian-tts –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—î –π–æ–≥–æ –∑ GitHub.

**Q: –©–æ —è–∫—â–æ –≤–∏–¥–∞–ª–∏—Ç–∏ tts/config.yaml?**  
A: ukrainian-tts –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç—å –π–æ–≥–æ –∑–Ω–æ–≤—É –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É.

**Q: –ß–∏ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ TTS –º–æ–¥–µ–ª—ñ?**  
A: –ù—ñ, —Ü–µ —Ç—Ä–µ–Ω—É–≤–∞–ª—å–Ω–∏–π –∫–æ–Ω—Ñ—ñ–≥. –î–ª—è –∑–º—ñ–Ω–∏ –≥–æ–ª–æ—Å—É –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π —Ä—ñ–∑–Ω—ñ voice_id (Dmytro/Tetiana/Mykyta).

**Q: –ß–æ–º—É –º–æ–¥–µ–ª—ñ –Ω–µ –≤–∫–ª—é—á–µ–Ω—ñ –≤ .app?**  
A: –©–æ–± –∑–º–µ–Ω—à–∏—Ç–∏ —Ä–æ–∑–º—ñ—Ä –±—ñ–Ω–∞—Ä–Ω–∏–∫–∞. –ó–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –æ–¥–∏–Ω —Ä–∞–∑ –ø—Ä–∏ –ø–µ—Ä—à–æ–º—É –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—ñ.

---

## üîó –ü–æ—Å–∏–ª–∞–Ω–Ω—è

- [ukrainian-tts GitHub](https://github.com/robinhad/ukrainian-tts)
- [AtlasTrinity Config Architecture](CONFIG_ARCHITECTURE.md)
- [Setup Guide](../SETUP.md)
